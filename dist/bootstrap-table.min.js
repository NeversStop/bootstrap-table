/**
  * bootstrap-table - An extended Bootstrap table with radio, checkbox, sort, pagination, and other added features. (supports twitter bootstrap v2 and v3).
  *
  * @version v1.13.0
  * @homepage http://bootstrap-table.wenzhixin.net.cn
  * @author wenzhixin <wenzhixin2010@gmail.com> (http://wenzhixin.net.cn/)
  * @license MIT
  */

(function(e,t){if('function'==typeof define&&define.amd)define(['jquery'],t);else if('undefined'!=typeof exports)t(require('jquery'));else{t(e.jquery),e.bootstrapTable={exports:{}}.exports}})(this,function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var n=function(e){return e&&e.__esModule?e:{default:e}}(e),a=function(){function e(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),i=function(){function e(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(o.push(s.value),!(t&&o.length===t));a=!0);}catch(e){i=!0,n=e}finally{try{!a&&l['return']&&l['return']()}finally{if(i)throw n}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},l=3;try{var h=n.default.fn.dropdown.Constructor.VERSION;h!==void 0&&(l=parseInt(h,10))}catch(t){}var r={3:{iconsPrefix:'glyphicon',icons:{paginationSwitchDown:'glyphicon-collapse-down icon-chevron-down',paginationSwitchUp:'glyphicon-collapse-up icon-chevron-up',refresh:'glyphicon-refresh icon-refresh',toggleOff:'glyphicon-list-alt icon-list-alt',toggleOn:'glyphicon-list-alt icon-list-alt',columns:'glyphicon-th icon-th',detailOpen:'glyphicon-plus icon-plus',detailClose:'glyphicon-minus icon-minus',fullscreen:'glyphicon-fullscreen'},classes:{buttons:'default',pull:'pull'},html:{toobarDropdow:['<ul class="dropdown-menu" role="menu">','</ul>'],toobarDropdowItem:'<li role="menuitem"><label>%s</label></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">','</ul>'],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>'}},4:{iconsPrefix:'fa',icons:{paginationSwitchDown:'fa-caret-square-down',paginationSwitchUp:'fa-caret-square-up',refresh:'fa-sync',toggleOff:'fa-toggle-off',toggleOn:'fa-toggle-on',columns:'fa-th-list',detailOpen:'fa-plus',detailClose:'fa-minus',fullscreen:'fa-arrows-alt'},classes:{buttons:'secondary',pull:'float'},html:{toobarDropdow:['<div class="dropdown-menu dropdown-menu-right">','</div>'],toobarDropdowItem:'<label class="dropdown-item">%s</label>',pageDropdown:['<div class="dropdown-menu">','</div>'],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>'}}}[l],d={bootstrapVersion:l,sprintf:function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];var n=!0,s=0,i=e.replace(/%s/g,function(){var e=o[s++];return'undefined'==typeof e?(n=!1,''):e});return n?i:''},getFieldTitle:function(e,t){var o=!0,a=!1,i=void 0;try{for(var n,s,l=e[Symbol.iterator]();!(o=(n=l.next()).done);o=!0)if(s=n.value,s.field===t)return s.title}catch(e){a=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw i}}return''},setFieldIndex:function(e){var t=0,o=[],a=!0,n=!1,s=void 0;try{for(var l,d,p=e[0][Symbol.iterator]();!(a=(l=p.next()).done);a=!0)d=l.value,t+=d.colspan||1}catch(e){n=!0,s=e}finally{try{!a&&p.return&&p.return()}finally{if(n)throw s}}for(var w=0;w<e.length;w++){o[w]=[];for(var i=0;i<t;i++)o[w][i]=!1}for(var v=0;v<e.length;v++){var c=!0,u=!1,f=void 0;try{for(var h,g=e[v][Symbol.iterator]();!(c=(h=g.next()).done);c=!0){var b=h.value,r=b.rowspan||1,m=b.colspan||1,y=o[v].indexOf(!1);1===m&&(b.fieldIndex=y,'undefined'==typeof b.field&&(b.field=y));for(var x=0;x<r;x++)o[v+x][y]=!0;for(var k=0;k<m;k++)o[v][y+k]=!0}}catch(e){u=!0,f=e}finally{try{!c&&g.return&&g.return()}finally{if(u)throw f}}}},getScrollBarWidth:function(){if(null===this.cachedWidth){var e=(0,n.default)('<div/>').addClass('fixed-table-scroll-inner'),t=(0,n.default)('<div/>').addClass('fixed-table-scroll-outer');t.append(e),(0,n.default)('body').append(t);var o=e[0].offsetWidth;t.css('overflow','scroll');var a=e[0].offsetWidth;o===a&&(a=t[0].clientWidth),t.remove(),this.cachedWidth=o-a}return this.cachedWidth},calculateObjectValue:function(e,t,a,i){var n=t;if('string'==typeof t){var f=t.split('.');if(1<f.length){n=window;var l=!0,r=!1,d=void 0;try{for(var p,c,u=f[Symbol.iterator]();!(l=(p=u.next()).done);l=!0)c=p.value,n=n[c]}catch(e){r=!0,d=e}finally{try{!l&&u.return&&u.return()}finally{if(r)throw d}}}else n=window[t]}return null!==n&&'object'===('undefined'==typeof n?'undefined':s(n))?n:'function'==typeof n?n.apply(e,a||[]):!n&&'string'==typeof t&&this.sprintf.apply(this,[t].concat(o(a)))?this.sprintf.apply(this,[t].concat(o(a))):i},compareObjects:function(e,t,o){var a=Object.keys(e),i=Object.keys(t);if(o&&a.length!==i.length)return!1;var n=!0,s=!1,l=void 0;try{for(var r,d,p=a[Symbol.iterator]();!(n=(r=p.next()).done);n=!0)if(d=r.value,i.includes(d)&&e[d]!==t[d])return!1}catch(e){s=!0,l=e}finally{try{!n&&p.return&&p.return()}finally{if(s)throw l}}return!0},escapeHTML:function(e){return'string'==typeof e?e.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;').replace(/`/g,'&#x60;'):e},getRealDataAttr:function(e){var t=!0,o=!1,a=void 0;try{for(var n,s=Object.entries(e)[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var l=n.value,r=i(l,2),d=r[0],p=r[1],c=d.split(/(?=[A-Z])/).join('-').toLowerCase();c!==d&&(e[c]=p,delete e[d])}}catch(e){o=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(o)throw a}}return e},getItemField:function(e,t,o){var a=e;if('string'!=typeof t||e.hasOwnProperty(t))return o?this.escapeHTML(e[t]):e[t];var i=t.split('.'),n=!0,s=!1,l=void 0;try{for(var r,d,p=i[Symbol.iterator]();!(n=(r=p.next()).done);n=!0)d=r.value,a=a&&a[d]}catch(e){s=!0,l=e}finally{try{!n&&p.return&&p.return()}finally{if(s)throw l}}return o?this.escapeHTML(a):a},isIEBrowser:function(){return navigator.userAgent.includes('MSIE ')||/Trident.*rv:11\./.test(navigator.userAgent)}},p={classes:'table table-hover',theadClasses:'',sortClass:void 0,locale:void 0,height:void 0,undefinedText:'-',sortName:void 0,sortOrder:'asc',sortStable:!1,rememberOrder:!1,striped:!1,columns:[[]],data:[],totalField:'total',dataField:'rows',method:'get',url:void 0,ajax:void 0,cache:!0,contentType:'application/json',dataType:'json',ajaxOptions:{},queryParams:function(e){return e},queryParamsType:'limit',responseHandler:function(e){return e},pagination:!1,onlyInfoPagination:!1,paginationLoop:!0,sidePagination:'client',totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:'right',paginationVAlign:'bottom',paginationDetailHAlign:'left',paginationPreText:'&lsaquo;',paginationNextText:'&rsaquo;',search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:'right',selectItemName:'btSelectItem',showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(){return''},detailFilter:function(){return!0},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:'left',buttonsToolbar:void 0,buttonsAlign:'right',checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:'',iconSize:void 0,buttonsClass:r.classes.buttons,iconsPrefix:r.iconsPrefix,icons:r.icons,customSearch:n.default.noop,customSort:n.default.noop,ignoreClickToSelectOn:function(e){var t=e.tagName;return['A','BUTTON'].includes(t)},rowStyle:function(){return{}},rowAttributes:function(){return{}},footerStyle:function(){return{}},onAll:function(){return!1},onClickCell:function(){return!1},onDblClickCell:function(){return!1},onClickRow:function(){return!1},onDblClickRow:function(){return!1},onSort:function(){return!1},onCheck:function(){return!1},onUncheck:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onCheckSome:function(){return!1},onUncheckSome:function(){return!1},onLoadSuccess:function(){return!1},onLoadError:function(){return!1},onColumnSwitch:function(){return!1},onPageChange:function(){return!1},onSearch:function(){return!1},onToggle:function(){return!1},onPreBody:function(){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(){return!1},onCollapseRow:function(){return!1},onRefreshOptions:function(){return!1},onRefresh:function(){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1}},c={};c['en-US']=c.en={formatLoadingMessage:function(){return'Loading, please wait...'},formatRecordsPerPage:function(e){return d.sprintf('%s rows per page',e)},formatShowingRows:function(e,t,o){return d.sprintf('Showing %s to %s of %s rows',e,t,o)},formatDetailPagination:function(e){return d.sprintf('Showing %s rows',e)},formatSearch:function(){return'Search'},formatNoMatches:function(){return'No matching records found'},formatPaginationSwitch:function(){return'Hide/Show pagination'},formatRefresh:function(){return'Refresh'},formatToggle:function(){return'Toggle'},formatFullscreen:function(){return'Fullscreen'},formatColumns:function(){return'Columns'},formatAllRows:function(){return'All'}},n.default.extend(p,c['en-US']);var u=function(){function e(o,a){t(this,e),this.options=a,this.$el=(0,n.default)(o),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()}return a(e,[{key:'init',value:function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()}},{key:'initLocale',value:function(){if(this.options.locale){var e=n.default.fn.bootstrapTable.locales,t=this.options.locale.split(/-|_/);t[0].toLowerCase(),t[1]&&t[1].toUpperCase(),e[this.options.locale]?n.default.extend(this.options,e[this.options.locale]):n.default.fn.bootstrapTable.locales[t.join('-')]?n.default.extend(this.options,e[t.join('-')]):n.default.fn.bootstrapTable.locales[t[0]]&&n.default.extend(this.options,e[t[0]])}}},{key:'initContainer',value:function(){var e=['top','both'].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':'',t=['bottom','both'].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':'';this.$container=(0,n.default)('\n      <div class="bootstrap-table">\n      <div class="fixed-table-toolbar"></div>\n      '+e+'\n      <div class="fixed-table-container">\n      <div class="fixed-table-header"><table></table></div>\n      <div class="fixed-table-body">\n      <div class="fixed-table-loading">\n      '+this.options.formatLoadingMessage()+'\n      </div>\n      </div>\n      <div class="fixed-table-footer"><table><tr></tr></table></div>\n      </div>\n      '+t+'\n      </div>\n    '),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find('.fixed-table-container'),this.$tableHeader=this.$container.find('.fixed-table-header'),this.$tableBody=this.$container.find('.fixed-table-body'),this.$tableLoading=this.$container.find('.fixed-table-loading'),this.$tableFooter=this.$container.find('.fixed-table-footer'),this.$toolbar=this.options.buttonsToolbar?(0,n.default)('body').find(this.options.buttonsToolbar):this.$container.find('.fixed-table-toolbar'),this.$pagination=this.$container.find('.fixed-table-pagination'),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass('table-striped'),this.options.classes.split(' ').includes('table-no-bordered')&&this.$tableContainer.addClass('table-no-bordered')}},{key:'initTable',value:function(){var t=this,o=[],a=[];if(this.$header=this.$el.find('>thead'),this.$header.length||(this.$header=(0,n.default)('<thead class="'+this.options.theadClasses+'"></thead>').appendTo(this.$el)),this.$header.find('tr').each(function(e,t){var a=[];(0,n.default)(t).find('th').each(function(e,t){'undefined'!=typeof(0,n.default)(t).data('field')&&(0,n.default)(t).data('field',''+(0,n.default)(t).data('field')),a.push(n.default.extend({},{title:(0,n.default)(t).html(),class:(0,n.default)(t).attr('class'),titleTooltip:(0,n.default)(t).attr('title'),rowspan:(0,n.default)(t).attr('rowspan')?+(0,n.default)(t).attr('rowspan'):void 0,colspan:(0,n.default)(t).attr('colspan')?+(0,n.default)(t).attr('colspan'):void 0},(0,n.default)(t).data()))}),o.push(a)}),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=n.default.extend(!0,[],o,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],d.setFieldIndex(this.options.columns),this.options.columns.forEach(function(o,a){o.forEach(function(o,i){var s=n.default.extend({},e.COLUMN_DEFAULTS,o);'undefined'!=typeof s.fieldIndex&&(t.columns[s.fieldIndex]=s,t.fieldsColumnsIndex[s.field]=s.fieldIndex),t.options.columns[a][i]=s})}),!this.options.data.length){var i=[];this.$el.find('>tbody>tr').each(function(e,o){var s={};s._id=(0,n.default)(o).attr('id'),s._class=(0,n.default)(o).attr('class'),s._data=d.getRealDataAttr((0,n.default)(o).data()),(0,n.default)(o).find('>td').each(function(o,a){for(var l=+(0,n.default)(a).attr('colspan')||1,r=+(0,n.default)(a).attr('rowspan')||1,p=o;i[e]&&i[e][p];p++);for(var u=p;u<p+l;u++)for(var f=e;f<e+r;f++)i[f]||(i[f]=[]),i[f][u]=!0;var c=t.columns[p].field;s[c]=(0,n.default)(a).html(),s['_'+c+'_id']=(0,n.default)(a).attr('id'),s['_'+c+'_class']=(0,n.default)(a).attr('class'),s['_'+c+'_rowspan']=(0,n.default)(a).attr('rowspan'),s['_'+c+'_colspan']=(0,n.default)(a).attr('colspan'),s['_'+c+'_title']=(0,n.default)(a).attr('title'),s['_'+c+'_data']=d.getRealDataAttr((0,n.default)(a).data())}),a.push(s)}),this.options.data=a,a.length&&(this.fromHtml=!0)}}},{key:'initHeader',value:function(){var t=this,e={},o=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},this.options.columns.forEach(function(a,n){o.push('<tr>'),0===n&&!t.options.cardView&&t.options.detailView&&o.push('<th class="detail" rowspan="'+t.options.columns.length+'">\n          <div class="fht-cell"></div>\n          </th>\n        '),a.forEach(function(a,i){var s='',l='',r='',p='',c=d.sprintf(' class="%s"',a['class']),u='px',f=a.width;if(void 0!==a.width&&!t.options.cardView&&'string'==typeof a.width&&a.width.includes('%')&&(u='%'),a.width&&'string'==typeof a.width&&(f=a.width.replace('%','').replace('px','')),l=d.sprintf('text-align: %s; ',a.halign?a.halign:a.align),r=d.sprintf('text-align: %s; ',a.align),p=d.sprintf('vertical-align: %s; ',a.valign),p+=d.sprintf('width: %s; ',(a.checkbox||a.radio)&&!f?a.showSelectTitle?void 0:'36px':f?f+u:void 0),'undefined'!=typeof a.fieldIndex){if(t.header.fields[a.fieldIndex]=a.field,t.header.styles[a.fieldIndex]=r+p,t.header.classes[a.fieldIndex]=c,t.header.formatters[a.fieldIndex]=a.formatter,t.header.events[a.fieldIndex]=a.events,t.header.sorters[a.fieldIndex]=a.sorter,t.header.sortNames[a.fieldIndex]=a.sortName,t.header.cellStyles[a.fieldIndex]=a.cellStyle,t.header.searchables[a.fieldIndex]=a.searchable,!a.visible)return;if(t.options.cardView&&!a.cardVisible)return;e[a.field]=a}o.push('<th'+d.sprintf(' title="%s"',a.titleTooltip),a.checkbox||a.radio?d.sprintf(' class="bs-checkbox %s"',a['class']||''):c,d.sprintf(' style="%s"',l+p),d.sprintf(' rowspan="%s"',a.rowspan),d.sprintf(' colspan="%s"',a.colspan),d.sprintf(' data-field="%s"',a.field),0===i&&0<n?' data-not-first-th':'','>'),o.push(d.sprintf('<div class="th-inner %s">',t.options.sortable&&a.sortable?'sortable both':'')),s=t.options.escape?d.escapeHTML(a.title):a.title;var h=s;a.checkbox&&(s='',!t.options.singleSelect&&t.options.checkboxHeader&&(s='<input name="btSelectAll" type="checkbox" />'),t.header.stateField=a.field),a.radio&&(s='',t.header.stateField=a.field,t.options.singleSelect=!0),!s&&a.showSelectTitle&&(s+=h),o.push(s),o.push('</div>'),o.push('<div class="fht-cell"></div>'),o.push('</div>'),o.push('</th>')}),o.push('</tr>')}),this.$header.html(o.join('')),this.$header.find('th[data-field]').each(function(t,o){(0,n.default)(o).data(e[(0,n.default)(o).data('field')])}),this.$container.off('click','.th-inner').on('click','.th-inner',function(o){var e=(0,n.default)(o.currentTarget);return t.options.detailView&&!e.parent().hasClass('bs-checkbox')&&e.closest('.bootstrap-table')[0]!==t.$container[0]?!1:void(t.options.sortable&&e.parent().data().sortable&&t.onSort(o))}),this.$header.children().children().off('keypress').on('keypress',function(o){if(t.options.sortable&&(0,n.default)(o.currentTarget).data().sortable){var e=o.keyCode||o.which;13===e&&t.onSort(o)}}),(0,n.default)(window).off('resize.bootstrap-table'),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css('top',0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css('top',this.$header.outerHeight()+1),this.getCaret(),(0,n.default)(window).on('resize.bootstrap-table',n.default.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off('click').on('click',function(e){var o=e.currentTarget,a=(0,n.default)(o).prop('checked');t[a?'checkAll':'uncheckAll'](),t.updateSelected()})}},{key:'initFooter',value:function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()}},{key:'initData',value:function(e,t){this.options.data='append'===t?this.options.data.concat(e):'prepend'===t?[].concat(e).concat(this.options.data):e||this.options.data,this.data=this.options.data,'server'===this.options.sidePagination||this.initSort()}},{key:'initSort',value:function(){var e=this,t=this.options.sortName,o='desc'===this.options.sortOrder?-1:1,i=this.header.fields.indexOf(this.options.sortName),a=0;return this.options.customSort===n.default.noop?void(-1!==i&&(this.options.sortStable&&this.data.forEach(function(e,t){e._position=t}),this.data.sort(function(s,a){e.header.sortNames[i]&&(t=e.header.sortNames[i]);var l=d.getItemField(s,t,e.options.escape),r=d.getItemField(a,t,e.options.escape),p=d.calculateObjectValue(e.header,e.header.sorters[i],[l,r,s,a]);return void 0===p?((void 0===l||null===l)&&(l=''),(void 0===r||null===r)&&(r=''),e.options.sortStable&&l===r)?(l=s._position,r=a._position,s._position-a._position):n.default.isNumeric(l)&&n.default.isNumeric(r)?(l=parseFloat(l),r=parseFloat(r),l<r?-1*o:o):l===r?0:('string'!=typeof l&&(l=l.toString()),-1===l.localeCompare(r)?-1*o:o):e.options.sortStable&&0===p?s._position-a._position:o*p}),void 0!==this.options.sortClass&&(clearTimeout(a),a=setTimeout(function(){e.$el.removeClass(e.options.sortClass);var t=e.$header.find(d.sprintf('[data-field="%s"]',e.options.sortName).index()+1);e.$el.find(d.sprintf('tr td:nth-child(%s)',t)).addClass(e.options.sortClass)},250)))):void this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder])}},{key:'onSort',value:function(e){var t=e.type,o=e.currentTarget,a='keypress'===t?(0,n.default)(o):(0,n.default)(o).parent(),i=this.$header.find('th').eq(a.index());return this.$header.add(this.$header_).find('span.order').remove(),this.options.sortName===a.data('field')?this.options.sortOrder='asc'===this.options.sortOrder?'desc':'asc':(this.options.sortName=a.data('field'),this.options.sortOrder=this.options.rememberOrder?'asc'===a.data('order')?'desc':'asc':this.columns[this.fieldsColumnsIndex[a.data('field')]].order),this.trigger('sort',this.options.sortName,this.options.sortOrder),a.add(i).data('order',this.options.sortOrder),this.getCaret(),'server'===this.options.sidePagination?void this.initServer(this.options.silentSort):void(this.initSort(),this.initBody())}},{key:'initToolbar',value:function(){var e=this,t=[],o=0,a=void 0,i=void 0,l=0;this.$toolbar.find('.bs-bars').children().length&&(0,n.default)('body').append((0,n.default)(this.options.toolbar)),this.$toolbar.html(''),('string'==typeof this.options.toolbar||'object'===s(this.options.toolbar))&&(0,n.default)(d.sprintf('<div class="bs-bars %s-%s"></div>',r.classes.pull,this.options.toolbarAlign)).appendTo(this.$toolbar).append((0,n.default)(this.options.toolbar)),t=[d.sprintf('<div class="columns columns-%s btn-group %s-%s">',this.options.buttonsAlign,r.classes.pull,this.options.buttonsAlign)],'string'==typeof this.options.icons&&(this.options.icons=d.calculateObjectValue(null,this.options.icons)),this.options.showPaginationSwitch&&t.push(d.sprintf('<button class="btn'+d.sprintf(' btn-%s',this.options.buttonsClass)+d.sprintf(' btn-%s',this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),d.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),'</button>'),this.options.showFullscreen&&this.$toolbar.find('button[name="fullscreen"]').off('click').on('click',n.default.proxy(this.toggleFullscreen,this)),this.options.showRefresh&&t.push(d.sprintf('<button class="btn'+d.sprintf(' btn-%s',this.options.buttonsClass)+d.sprintf(' btn-%s',this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),d.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),'</button>'),this.options.showToggle&&t.push(d.sprintf('<button class="btn'+d.sprintf(' btn-%s',this.options.buttonsClass)+d.sprintf(' btn-%s',this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),d.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggleOff),'</button>'),this.options.showFullscreen&&t.push(d.sprintf('<button class="btn'+d.sprintf(' btn-%s',this.options.buttonsClass)+d.sprintf(' btn-%s',this.options.iconSize)+'" type="button" name="fullscreen" aria-label="fullscreen" title="%s">',this.options.formatFullscreen()),d.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.fullscreen),'</button>'),this.options.showColumns&&(t.push(d.sprintf('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+d.sprintf(' btn-%s',this.options.buttonsClass)+d.sprintf(' btn-%s',this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',d.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>','</button>',r.html.toobarDropdow[0]),this.columns.forEach(function(o,a){if(!(o.radio||o.checkbox)&&(!e.options.cardView||o.cardVisible)){var i=o.visible?' checked="checked"':'';o.switchable&&(t.push(d.sprintf(r.html.toobarDropdowItem,d.sprintf('<input type="checkbox" data-field="%s" value="%s"%s> %s',o.field,a,i,o.title))),l++)}}),t.push(r.html.toobarDropdow[1],'</div>')),t.push('</div>'),(this.showToolbar||2<t.length)&&this.$toolbar.append(t.join('')),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off('click').on('click',n.default.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off('click').on('click',n.default.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off('click').on('click',function(){e.toggleView()}),this.options.showColumns&&(a=this.$toolbar.find('.keep-open'),l<=this.options.minimumCountColumns&&a.find('input').prop('disabled',!0),a.find('li').off('click').on('click',function(t){t.stopImmediatePropagation()}),a.find('input').off('click').on('click',function(t){var o=t.currentTarget,a=(0,n.default)(o);e.toggleColumn(a.val(),a.prop('checked'),!1),e.trigger('column-switch',a.data('field'),a.prop('checked'))})),this.options.search&&(t=[],t.push(d.sprintf('<div class="%s-%s search">',r.classes.pull,this.options.searchAlign),d.sprintf('<input class="form-control'+d.sprintf(' input-%s',this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),'</div>'),this.$toolbar.append(t.join('')),i=this.$toolbar.find('.search input'),i.off('keyup drop blur').on('keyup drop blur',function(t){e.options.searchOnEnterKey&&13!==t.keyCode||[37,38,39,40].includes(t.keyCode)||(clearTimeout(o),o=setTimeout(function(){e.onSearch(t)},e.options.searchTimeOut))}),d.isIEBrowser()&&i.off('mouseup').on('mouseup',function(t){clearTimeout(o),o=setTimeout(function(){e.onSearch(t)},e.options.searchTimeOut)}))}},{key:'onSearch',value:function(e){var t=e.currentTarget,o=e.firedByInitSearchText,a=n.default.trim((0,n.default)(t).val());this.options.trimOnSearch&&(0,n.default)(t).val()!==a&&(0,n.default)(t).val(a),a===this.searchText||(this.searchText=a,this.options.searchText=a,!o&&(this.options.pageNumber=1),this.initSearch(),o?'client'===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger('search',a))}},{key:'initSearch',value:function(){var e=this;if('server'!==this.options.sidePagination){if(this.options.customSearch!==n.default.noop)return void d.calculateObjectValue(this.options,this.options.customSearch,[this.searchText]);var t=this.searchText&&(this.options.escape?d.escapeHTML(this.searchText):this.searchText).toLowerCase(),o=n.default.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=o?this.options.data.filter(function(e){for(var t in o)if(Array.isArray(o[t])&&!o[t].includes(e[t])||!Array.isArray(o[t])&&e[t]!==o[t])return!1;return!0}):this.options.data,this.data=t?this.data.filter(function(o,a){for(var c=0;c<e.header.fields.length;c++)if(e.header.searchables[c]){var i=n.default.isNumeric(e.header.fields[c])?parseInt(e.header.fields[c],10):e.header.fields[c],s=e.columns[e.fieldsColumnsIndex[i]],l=void 0;if('string'==typeof i){l=o;for(var r=i.split('.'),p=0;p<r.length;p++)null!==l[r[p]]&&(l=l[r[p]])}else l=o[i];if(s&&s.searchFormatter&&(l=d.calculateObjectValue(s,e.header.formatters[c],[l,o,a],l)),'string'==typeof l||'number'==typeof l)if(e.options.strictSearch){if((''+l).toLowerCase()===t)return!0;}else if((''+l).toLowerCase().includes(t))return!0}return!1}):this.data}}},{key:'initPagination',value:function(){var e=this;if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var t=[],o=!1,a=void 0,i=void 0,s=void 0,l=void 0,p=void 0,c=void 0,u=void 0,f=this.getData(),h=this.options.pageList;if('server'!==this.options.sidePagination&&(this.options.totalRows=f.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,o=!0;else if(this.options.pageSize===this.options.totalRows){var v='string'==typeof this.options.pageList?this.options.pageList.replace('[','').replace(']','').replace(/ /g,'').toLowerCase().split(','):this.options.pageList;v.includes(this.options.formatAllRows().toLowerCase())&&(o=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(0<this.totalPages&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),t.push(d.sprintf('<div class="%s-%s pagination-detail">',r.classes.pull,this.options.paginationDetailHAlign),'<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),'</span>'),!this.options.onlyInfoPagination){t.push('<span class="page-list">');var x=[d.sprintf('<span class="btn-group %s">','top'===this.options.paginationVAlign||'both'===this.options.paginationVAlign?'dropdown':'dropup'),'<button type="button" class="btn'+d.sprintf(' btn-%s',this.options.buttonsClass)+d.sprintf(' btn-%s',this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',o?this.options.formatAllRows():this.options.pageSize,'</span>',' <span class="caret"></span>','</button>',r.html.pageDropdown[0]];if('string'==typeof this.options.pageList){var S=this.options.pageList.replace('[','').replace(']','').replace(/ /g,'').split(',');h=[];var g=!0,b=!1,m=void 0;try{for(var y,w,k=S[Symbol.iterator]();!(g=(y=k.next()).done);g=!0)w=y.value,h.push(w.toUpperCase()===this.options.formatAllRows().toUpperCase()||'UNLIMITED'===w.toUpperCase()?this.options.formatAllRows():+w)}catch(e){b=!0,m=e}finally{try{!g&&k.return&&k.return()}finally{if(b)throw m}}}for(h.forEach(function(t,a){if(!e.options.smartDisplay||0===a||h[a-1]<e.options.totalRows){var i;i=o?t===e.options.formatAllRows()?'active':'':t===e.options.pageSize?'active':'',x.push(d.sprintf(r.html.pageDropdownItem,i,t))}}),x.push(r.html.pageDropdown[1]+'</span>'),t.push(this.options.formatRecordsPerPage(x.join(''))),t.push('</span>'),t.push('</div>',d.sprintf('<div class="%s-%s pagination">',r.classes.pull,this.options.paginationHAlign),'<ul class="pagination'+d.sprintf(' pagination-%s',this.options.iconSize)+'">',d.sprintf('<li class="page-item page-pre"><a class="page-link" href="#">%s</a></li>',this.options.paginationPreText)),5>this.totalPages?(i=1,s=this.totalPages):(i=this.options.pageNumber-2,s=i+4,1>i&&(i=1,s=5),s>this.totalPages&&(s=this.totalPages,i=s-4)),6<=this.totalPages&&(3<=this.options.pageNumber&&(t.push(d.sprintf('<li class="page-item page-first%s">',1===this.options.pageNumber?' active':''),'<a class="page-link" href="#">',1,'</a>','</li>'),i++),4<=this.options.pageNumber&&(4===this.options.pageNumber||6===this.totalPages||7===this.totalPages?i--:t.push('<li class="page-item page-first-separator disabled">','<a class="page-link" href="#">...</a>','</li>'),s--)),7<=this.totalPages&&this.options.pageNumber>=this.totalPages-2&&i--,6===this.totalPages?this.options.pageNumber>=this.totalPages-2&&s++:7<=this.totalPages&&(7===this.totalPages||this.options.pageNumber>=this.totalPages-3)&&s++,a=i;a<=s;a++)t.push(d.sprintf('<li class="page-item%s">',a===this.options.pageNumber?' active':''),'<a class="page-link" href="#">',a,'</a>','</li>');8<=this.totalPages&&this.options.pageNumber<=this.totalPages-4&&t.push('<li class="page-item page-last-separator disabled">','<a class="page-link" href="#">...</a>','</li>'),6<=this.totalPages&&this.options.pageNumber<=this.totalPages-3&&t.push(d.sprintf('<li class="page-item page-last%s">',this.totalPages===this.options.pageNumber?' active':''),'<a class="page-link" href="#">',this.totalPages,'</a>','</li>'),t.push(d.sprintf('<li class="page-item page-next"><a class="page-link" href="#">%s</a></li>',this.options.paginationNextText),'</ul>','</div>')}this.$pagination.html(t.join('')),this.options.onlyInfoPagination||(l=this.$pagination.find('.page-list a'),p=this.$pagination.find('.page-pre'),c=this.$pagination.find('.page-next'),u=this.$pagination.find('.page-item').not('.page-next, .page-pre'),this.options.smartDisplay&&(1>=this.totalPages&&this.$pagination.find('div.pagination').hide(),(2>h.length||this.options.totalRows<=h[0])&&this.$pagination.find('span.page-list').hide(),this.$pagination[this.getData().length?'show':'hide']()),!this.options.paginationLoop&&(1===this.options.pageNumber&&p.addClass('disabled'),this.options.pageNumber===this.totalPages&&c.addClass('disabled')),o&&(this.options.pageSize=this.options.formatAllRows()),l.off('click').on('click',n.default.proxy(this.onPageListChange,this)),p.off('click').on('click',n.default.proxy(this.onPagePre,this)),c.off('click').on('click',n.default.proxy(this.onPageNext,this)),u.off('click').on('click',n.default.proxy(this.onPageNumber,this)))}},{key:'updatePagination',value:function(e){e&&(0,n.default)(e.currentTarget).hasClass('disabled')||(!this.options.maintainSelected&&this.resetRows(),this.initPagination(),'server'===this.options.sidePagination?this.initServer():this.initBody(),this.trigger('page-change',this.options.pageNumber,this.options.pageSize))}},{key:'onPageListChange',value:function(e){e.preventDefault();var t=(0,n.default)(e.currentTarget);return t.parent().addClass('active').siblings().removeClass('active'),this.options.pageSize=t.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+t.text(),this.$toolbar.find('.page-size').text(this.options.pageSize),this.updatePagination(e),!1}},{key:'onPagePre',value:function(e){return e.preventDefault(),0==this.options.pageNumber-1?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(e),!1}},{key:'onPageNext',value:function(e){return e.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(e),!1}},{key:'onPageNumber',value:function(e){if(e.preventDefault(),this.options.pageNumber!==+(0,n.default)(e.currentTarget).text())return this.options.pageNumber=+(0,n.default)(e.currentTarget).text(),this.updatePagination(e),!1}},{key:'initRow',value:function(e,t){var o=this,a=[],s={},l=[],r='',p={},c=[];if(!this.hiddenRows.includes(e)){if(s=d.calculateObjectValue(this.options,this.options.rowStyle,[e,t],s),s&&s.css){var u=!0,f=!1,h=void 0;try{for(var g,b=Object.entries(s.css)[Symbol.iterator]();!(u=(g=b.next()).done);u=!0){var m=g.value,y=i(m,2),w=y[0],x=y[1];l.push(w+': '+x)}}catch(e){f=!0,h=e}finally{try{!u&&b.return&&b.return()}finally{if(f)throw h}}}if(p=d.calculateObjectValue(this.options,this.options.rowAttributes,[e,t],p),p){var S=!0,$=!1,P=void 0;try{for(var C,T=Object.entries(p)[Symbol.iterator]();!(S=(C=T.next()).done);S=!0){var O=C.value,_=i(O,2),R=_[0],A=_[1];c.push(R+'="'+d.escapeHTML(A)+'"')}}catch(e){$=!0,P=e}finally{try{!S&&T.return&&T.return()}finally{if($)throw P}}}if(e._data&&!n.default.isEmptyObject(e._data)){var I=!0,F=!1,N=void 0;try{for(var V,j=Object.entries(e._data)[Symbol.iterator]();!(I=(V=j.next()).done);I=!0){var B=V.value,L=i(B,2),H=L[0],k=L[1];if('index'===H)return;r+=' data-'+H+'="'+k+'"'}}catch(e){F=!0,N=e}finally{try{!I&&j.return&&j.return()}finally{if(F)throw N}}}return a.push('<tr',d.sprintf(' %s',c.length?c.join(' '):void 0),d.sprintf(' id="%s"',Array.isArray(e)?void 0:e._id),d.sprintf(' class="%s"',s.classes||(Array.isArray(e)?void 0:e._class)),' data-index="'+t+'"',d.sprintf(' data-uniqueid="%s"',e[this.options.uniqueId]),d.sprintf('%s',r),'>'),this.options.cardView&&a.push('<td colspan="'+this.header.fields.length+'"><div class="card-views">'),!this.options.cardView&&this.options.detailView&&(a.push('<td>'),d.calculateObjectValue(null,this.options.detailFilter,[t,e])&&a.push('\n          <a class="detail-icon" href="#">\n          <i class="'+this.options.iconsPrefix+' '+this.options.icons.detailOpen+'"></i>\n          </a>\n        '),a.push('</td>')),this.header.fields.forEach(function(r,p){var u='',f=d.getItemField(e,r,o.options.escape),h='',g='',b={},m='',y=o.header.classes[p],w='',k='',v='',x='',S='',$=o.columns[p];if((!o.fromHtml||'undefined'!=typeof f||$.checkbox||$.radio)&&$.visible&&(!o.options.cardView||$.cardVisible)){if($.escape&&(f=d.escapeHTML(f)),l.concat([o.header.styles[p]]).length&&(w=' style="'+l.concat([o.header.styles[p]]).join('; ')+'"'),e['_'+r+'_id']&&(m=d.sprintf(' id="%s"',e['_'+r+'_id'])),e['_'+r+'_class']&&(y=d.sprintf(' class="%s"',e['_'+r+'_class'])),e['_'+r+'_rowspan']&&(v=d.sprintf(' rowspan="%s"',e['_'+r+'_rowspan'])),e['_'+r+'_colspan']&&(x=d.sprintf(' colspan="%s"',e['_'+r+'_colspan'])),e['_'+r+'_title']&&(S=d.sprintf(' title="%s"',e['_'+r+'_title'])),b=d.calculateObjectValue(o.header,o.header.cellStyles[p],[f,e,t,r],b),b.classes&&(y=' class="'+b.classes+'"'),b.css){var P=[],C=!0,T=!1,O=void 0;try{for(var _,R=Object.entries(b.css)[Symbol.iterator]();!(C=(_=R.next()).done);C=!0){var A=_.value,I=i(A,2),F=I[0],N=I[1];P.push(F+': '+N)}}catch(e){T=!0,O=e}finally{try{!C&&R.return&&R.return()}finally{if(T)throw O}}w=' style="'+P.concat(o.header.styles[p]).join('; ')+'"'}if(h=d.calculateObjectValue($,o.header.formatters[p],[f,e,t,r],f),e['_'+r+'_data']&&!n.default.isEmptyObject(e['_'+r+'_data'])){var V=!0,j=!1,B=void 0;try{for(var L,H=Object.entries(e['_'+r+'_data'])[Symbol.iterator]();!(V=(L=H.next()).done);V=!0){var D=L.value,E=i(D,2),z=E[0],q=E[1];if('index'===z)return;k+=' data-'+z+'="'+q+'"'}}catch(e){j=!0,B=e}finally{try{!V&&H.return&&H.return()}finally{if(j)throw B}}}if($.checkbox||$.radio){g=$.checkbox?'checkbox':g,g=$.radio?'radio':g;var U=$['class']||'',c=!0===h||f||h&&h.checked,W=!$.checkboxEnabled||h&&h.disabled;u=[o.options.cardView?'<div class="card-view '+U+'">':'<td class="bs-checkbox '+U+'">','<input\n            data-index="'+t+'"\n            name="'+o.options.selectItemName+'"\n            type="'+g+'"\n            '+d.sprintf('value="%s"',e[o.options.idField])+'\n            '+d.sprintf('checked="%s"',c?'checked':void 0)+'\n            '+d.sprintf('disabled="%s"',W?'disabled':void 0)+' />',o.header.formatters[p]&&'string'==typeof h?h:'',o.options.cardView?'</div>':'</td>'].join(''),e[o.header.stateField]=!0===h||!!f||h&&h.checked}else if(h='undefined'==typeof h||null===h?o.options.undefinedText:h,o.options.cardView){var M=o.options.showHeader?'<span class="title"'+s+'>'+d.getFieldTitle(o.columns,r)+'</span>':'';u='<div class="card-view">'+M+'<span class="value">'+h+'</span></div>',o.options.smartDisplay&&''===h&&(u='<div class="card-view"></div>')}else u='<td'+m+y+w+k+v+x+S+'>'+h+'</td>';a.push(u)}}),this.options.cardView&&a.push('</div></td>'),a.push('</tr>'),a.join('')}}},{key:'initBody',value:function(e){var t=this,o=this.getData();this.trigger('pre-body',o),this.$body=this.$el.find('>tbody'),this.$body.length||(this.$body=(0,n.default)('<tbody></tbody>').appendTo(this.$el)),this.options.pagination&&'server'!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=o.length);for(var a=(0,n.default)(document.createDocumentFragment()),s=!1,l=this.pageFrom-1;l<this.pageTo;l++){var r=o[l],p=this.initRow(r,l,o,a);s=s||!!p,p&&'string'==typeof p&&a.append(p)}s?this.$body.html(a):this.$body.html('<tr class="no-records-found">'+d.sprintf('<td colspan="%s">%s</td>',this.$header.find('th').length,this.options.formatNoMatches())+'</tr>'),e||this.scrollTo(0),this.$body.find('> tr[data-index] > td').off('click dblclick').on('click dblclick',function(e){var o=e.currentTarget,a=e.type,i=e.target,s=(0,n.default)(o),l=s.parent(),r=t.data[l.data('index')],p=s[0].cellIndex,c=t.getVisibleFields(),u=c[t.options.detailView&&!t.options.cardView?p-1:p],f=t.columns[t.fieldsColumnsIndex[u]],h=d.getItemField(r,u,t.options.escape);if(!s.find('.detail-icon').length&&(t.trigger('click'===a?'click-cell':'dbl-click-cell',u,h,r,s),t.trigger('click'===a?'click-row':'dbl-click-row',r,l,u),'click'===a&&t.options.clickToSelect&&f.clickToSelect&&!t.options.ignoreClickToSelectOn(i))){var g=l.find(d.sprintf('[name="%s"]',t.options.selectItemName));g.length&&g[0].click()}}),this.$body.find('> tr[data-index] > td > .detail-icon').off('click').on('click',function(a){a.preventDefault();var e=(0,n.default)(a.currentTarget),i=e.parent().parent(),s=i.data('index'),l=o[s];if(i.next().is('tr.detail-view'))e.find('i').attr('class',d.sprintf('%s %s',t.options.iconsPrefix,t.options.icons.detailOpen)),t.trigger('collapse-row',s,l,i.next()),i.next().remove();else{e.find('i').attr('class',d.sprintf('%s %s',t.options.iconsPrefix,t.options.icons.detailClose)),i.after(d.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',i.find('td').length));var r=i.next().find('td'),p=d.calculateObjectValue(t.options,t.options.detailFormatter,[s,l,r],'');1===r.length&&r.append(p),t.trigger('expand-row',s,l,r)}return t.resetView(),!1}),this.$selectItem=this.$body.find(d.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off('click').on('click',function(o){o.stopImmediatePropagation();var e=(0,n.default)(o.currentTarget);t.check_(e.prop('checked'),e.data('index'))}),this.header.events.forEach(function(e,o){var a=e;if(a){'string'==typeof a&&(a=d.calculateObjectValue(null,a));var s=t.header.fields[o],l=t.getVisibleFields().indexOf(s);if(-1!==l){t.options.detailView&&!t.options.cardView&&(l+=1);var r=function(e,o){t.$body.find('>tr:not(.no-records-found)').each(function(a,i){var r=(0,n.default)(i),d=r.find(t.options.cardView?'.card-view':'td').eq(l),p=e.indexOf(' '),c=e.substring(0,p),u=e.substring(p+1);d.find(u).off(c).on(c,function(a){var e=r.data('index'),i=t.data[e],n=i[s];o.apply(t,[a,n,i,e])})})},p=!0,c=!1,u=void 0;try{for(var f,h=Object.entries(a)[Symbol.iterator]();!(p=(f=h.next()).done);p=!0){var g=f.value,b=i(g,2),m=b[0],y=b[1];r(m,y)}}catch(e){c=!0,u=e}finally{try{!p&&h.return&&h.return()}finally{if(c)throw u}}}}}),this.updateSelected(),this.resetView(),this.trigger('post-body',o)}},{key:'initServer',value:function(e,t,o){var a=this,i={},s=this.header.fields.indexOf(this.options.sortName),l={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if((this.header.sortNames[s]&&(l.sortName=this.header.sortNames[s]),this.options.pagination&&'server'===this.options.sidePagination&&(l.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,l.pageNumber=this.options.pageNumber),o||this.options.url||this.options.ajax)&&('limit'===this.options.queryParamsType&&(l={search:l.searchText,sort:l.sortName,order:l.sortOrder},this.options.pagination&&'server'===this.options.sidePagination&&(l.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),l.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,0===l.limit&&delete l.limit)),n.default.isEmptyObject(this.filterColumnsPartial)||(l.filter=JSON.stringify(this.filterColumnsPartial,null)),i=d.calculateObjectValue(this.options,this.options.queryParams,[l],i),n.default.extend(i,t||{}),!1!==i)){e||this.$tableLoading.show();var r=n.default.extend({},d.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:o||this.options.url,data:'application/json'===this.options.contentType&&'post'===this.options.method?JSON.stringify(i):i,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(t){var o=d.calculateObjectValue(a.options,a.options.responseHandler,[t],t);a.load(o),a.trigger('load-success',o),e||a.$tableLoading.hide()},error:function(t){var o=[];'server'===a.options.sidePagination&&(o={},o[a.options.totalField]=0,o[a.options.dataField]=[]),a.load(o),a.trigger('load-error',t.status,t),e||a.$tableLoading.hide()}});this.options.ajax?d.calculateObjectValue(this,this.options.ajax,[r],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=n.default.ajax(r))}}},{key:'initSearchText',value:function(){if(this.options.search&&(this.searchText='',''!==this.options.searchText)){var e=this.$toolbar.find('.search input');e.val(this.options.searchText),this.onSearch({currentTarget:e,firedByInitSearchText:!0})}}},{key:'getCaret',value:function(){var e=this;this.$header.find('th').each(function(t,o){(0,n.default)(o).find('.sortable').removeClass('desc asc').addClass((0,n.default)(o).data('field')===e.options.sortName?e.options.sortOrder:'both')})}},{key:'updateSelected',value:function(){var e=this.$selectItem.filter(':enabled').length&&this.$selectItem.filter(':enabled').length===this.$selectItem.filter(':enabled').filter(':checked').length;this.$selectAll.add(this.$selectAll_).prop('checked',e),this.$selectItem.each(function(e,t){(0,n.default)(t).closest('tr')[(0,n.default)(t).prop('checked')?'addClass':'removeClass']('selected')})}},{key:'updateRows',value:function(){var e=this;this.$selectItem.each(function(t,o){e.data[(0,n.default)(o).data('index')][e.header.stateField]=(0,n.default)(o).prop('checked')})}},{key:'resetRows',value:function(){var e=!0,t=!1,o=void 0;try{for(var a,i,n=this.data[Symbol.iterator]();!(e=(a=n.next()).done);e=!0)i=a.value,this.$selectAll.prop('checked',!1),this.$selectItem.prop('checked',!1),this.header.stateField&&(i[this.header.stateField]=!1)}catch(e){t=!0,o=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw o}}this.initHiddenRows()}},{key:'trigger',value:function(t){for(var o,a=t+'.bs.table',i=arguments.length,s=Array(1<i?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];(o=this.options)[e.EVENTS[a]].apply(o,s),this.$el.trigger(n.default.Event(a),s),this.options.onAll(a,s),this.$el.trigger(n.default.Event('all.bs.table'),[a,s])}},{key:'resetHeader',value:function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(n.default.proxy(this.fitHeader,this),this.$el.is(':hidden')?100:0)}},{key:'fitHeader',value:function(){var e=this;if(this.$el.is(':hidden'))return void(this.timeoutId_=setTimeout(n.default.proxy(this.fitHeader,this),100));var t=this.$tableBody.get(0),o=t.scrollWidth>t.clientWidth&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?d.getScrollBarWidth():0;this.$el.css('margin-top',-this.$header.outerHeight());var a=(0,n.default)(':focus');if(0<a.length){var r=a.parents('th');if(0<r.length){var p=r.attr('data-field');if(void 0!==p){var c=this.$header.find('[data-field=\''+p+'\']');0<c.length&&c.find(':input').addClass('focus-temp')}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":o}).find('table').css('width',this.$el.outerWidth()).html('').attr('class',this.$el.attr('class')).append(this.$header_);var i=(0,n.default)('.focus-temp:visible:eq(0)');0<i.length&&(i.focus(),this.$header.find('.focus-temp').removeClass('focus-temp')),this.$header.find('th[data-field]').each(function(t,o){e.$header_.find(d.sprintf('th[data-field="%s"]',(0,n.default)(o).data('field'))).data((0,n.default)(o).data())});var s=this.getVisibleFields(),l=this.$header_.find('th');this.$body.find('>tr:first-child:not(.no-records-found) > *').each(function(t,o){var a=(0,n.default)(o),i=t;if(e.options.detailView&&!e.options.cardView&&(0===t&&e.$header_.find('th.detail').find('.fht-cell').width(a.innerWidth()),i=t-1),-1!==i){var r=e.$header_.find(d.sprintf('th[data-field="%s"]',s[i]));1<r.length&&(r=(0,n.default)(l[a[0].cellIndex]));var p=r.width()-r.find('.fht-cell').width();r.find('.fht-cell').width(a.innerWidth()-p)}}),this.horizontalScroll(),this.trigger('post-header')}},{key:'resetFooter',value:function(){var e=this.getData(),t=[];if(this.options.showFooter&&!this.options.cardView){!this.options.cardView&&this.options.detailView&&t.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>');var o=!0,a=!1,s=void 0;try{for(var l,r=this.columns[Symbol.iterator]();!(o=(l=r.next()).done);o=!0){var p=l.value,c='',u='',f=[],h={},g=d.sprintf(' class="%s"',p['class']);if(!p.visible)return;if(this.options.cardView&&!p.cardVisible)return;if(c=d.sprintf('text-align: %s; ',p.falign?p.falign:p.align),u=d.sprintf('vertical-align: %s; ',p.valign),h=d.calculateObjectValue(null,this.options.footerStyle),h&&h.css){var b=!0,m=!1,y=void 0;try{for(var w,k=Object.keys(h.css)[Symbol.iterator]();!(b=(w=k.next()).done);b=!0){var v=w.value,x=i(v,2),S=x[0],$=x[1];f.push(S+': '+$)}}catch(e){m=!0,y=e}finally{try{!b&&k.return&&k.return()}finally{if(m)throw y}}}t.push('<td',g,d.sprintf(' style="%s"',c+u+f.concat().join('; ')),'>'),t.push('<div class="th-inner">'),t.push(d.calculateObjectValue(p,p.footerFormatter,[e],'&nbsp;')||'&nbsp;'),t.push('</div>'),t.push('<div class="fht-cell"></div>'),t.push('</div>'),t.push('</td>')}}catch(e){a=!0,s=e}finally{try{!o&&r.return&&r.return()}finally{if(a)throw s}}this.$tableFooter.find('tr').html(t.join('')),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(n.default.proxy(this.fitFooter,this),this.$el.is(':hidden')?100:0)}}},{key:'fitFooter',value:function(){if(clearTimeout(this.timeoutFooter_),this.$el.is(':hidden'))return void(this.timeoutFooter_=setTimeout(n.default.proxy(this.fitFooter,this),100));var e=this.$el.css('width'),t=e>this.$tableBody.width()?d.getScrollBarWidth():0;this.$tableFooter.css({"margin-right":t}).find('table').css('width',e).attr('class',this.$el.attr('class'));var o=this.$tableFooter.find('td');this.$body.find('>tr:first-child:not(.no-records-found) > *').each(function(e,t){var a=(0,n.default)(t);o.eq(e).find('.fht-cell').width(a.innerWidth())}),this.horizontalScroll()}},{key:'horizontalScroll',value:function(){var e=this;this.trigger('scroll-body'),this.$tableBody.off('scroll').on('scroll',function(t){var o=t.currentTarget;e.options.showHeader&&e.options.height&&e.$tableHeader.scrollLeft((0,n.default)(o).scrollLeft()),e.options.showFooter&&!e.options.cardView&&e.$tableFooter.scrollLeft((0,n.default)(o).scrollLeft())})}},{key:'toggleColumn',value:function(e,t,o){if(-1!==e&&(this.columns[e].visible=t,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var a=this.$toolbar.find('.keep-open input').prop('disabled',!1);o&&a.filter(d.sprintf('[value="%s"]',e)).prop('checked',t),a.filter(':checked').length<=this.options.minimumCountColumns&&a.filter(':checked').prop('disabled',!0)}}},{key:'getVisibleFields',value:function(){var e=[],t=!0,o=!1,a=void 0;try{for(var i,n=this.header.fields[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var s=i.value,l=this.columns[this.fieldsColumnsIndex[s]];l.visible&&e.push(s)}}catch(e){o=!0,a=e}finally{try{!t&&n.return&&n.return()}finally{if(o)throw a}}return e}},{key:'resetView',value:function(e){var t=0;if(e&&e.height&&(this.options.height=e.height),this.$selectAll.prop('checked',0<this.$selectItem.length&&this.$selectItem.length===this.$selectItem.filter(':checked').length),this.options.height){var o=this.$toolbar.outerHeight(!0),a=this.$pagination.outerHeight(!0),i=this.options.height-o-a;this.$tableContainer.css('height',i+'px')}return this.options.cardView?(this.$el.css('margin-top','0'),this.$tableContainer.css('padding-bottom','0'),void this.$tableFooter.hide()):void(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),t+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger('post-header')),this.options.showFooter&&(this.resetFooter(),this.options.height&&(t+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css('padding-bottom',t+'px'),this.trigger('reset-view'))}},{key:'getData',value:function(e){var t=this.options.data;return(this.searchText||this.options.sortName||!n.default.isEmptyObject(this.filterColumns)||!n.default.isEmptyObject(this.filterColumnsPartial))&&(t=this.data),e?t.slice(this.pageFrom-1,this.pageTo):t}},{key:'load',value:function(e){var t=!1,o=e;this.options.pagination&&'server'===this.options.sidePagination&&(this.options.totalRows=o[this.options.totalField]),t=o.fixedScroll,o=Array.isArray(o)?o:o[this.options.dataField],this.initData(o),this.initSearch(),this.initPagination(),this.initBody(t)}},{key:'append',value:function(e){this.initData(e,'append'),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:'prepend',value:function(e){this.initData(e,'prepend'),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:'remove',value:function(e){var t=this.options.data.length,o=void 0,a=void 0;if(e.hasOwnProperty('field')&&e.hasOwnProperty('values')){for(o=t-1;0<=o;o--)(a=this.options.data[o],!!a.hasOwnProperty(e.field))&&e.values.includes(a[e.field])&&(this.options.data.splice(o,1),'server'===this.options.sidePagination&&(this.options.totalRows-=1));t===this.options.data.length||(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}}},{key:'removeAll',value:function(){0<this.options.data.length&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:'getRowByUniqueId',value:function(e){var t=this.options.uniqueId,o=this.options.data.length,a=e,n=null,s=void 0,i=void 0,l=void 0;for(s=o-1;0<=s;s--){if(i=this.options.data[s],i.hasOwnProperty(t))l=i[t];else if(i._data&&i._data.hasOwnProperty(t))l=i._data[t];else continue;if('string'==typeof l?a=a.toString():'number'==typeof l&&(+l===l&&0==l%1?a=parseInt(a):l===+l&&0!==l&&(a=parseFloat(a))),l===a){n=i;break}}return n}},{key:'removeByUniqueId',value:function(e){var t=this.options.data.length,o=this.getRowByUniqueId(e);o&&this.options.data.splice(this.options.data.indexOf(o),1),t===this.options.data.length||(this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:'updateByUniqueId',value:function(e){var t=Array.isArray(e)?e:[e],o=!0,a=!1,i=void 0;try{for(var s,l,r=t[Symbol.iterator]();!(o=(s=r.next()).done);o=!0)if(l=s.value,l.hasOwnProperty('id')&&l.hasOwnProperty('row')){var d=this.options.data.indexOf(this.getRowByUniqueId(l.id));-1!==d&&n.default.extend(this.options.data[d],l.row)}}catch(e){a=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(a)throw i}}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:'refreshColumnTitle',value:function(e){if(e.hasOwnProperty('field')&&e.hasOwnProperty('title')&&(this.columns[this.fieldsColumnsIndex[e.field]].title=this.options.escape?d.escapeHTML(e.title):e.title,this.columns[this.fieldsColumnsIndex[e.field]].visible)){var t=void 0===this.options.height?this.$header:this.$tableHeader;t.find('th[data-field]').each(function(t,o){if((0,n.default)(o).data('field')===e.field)return(0,n.default)((0,n.default)(o).find('.th-inner')[0]).text(e.title),!1})}}},{key:'insertRow',value:function(e){e.hasOwnProperty('index')&&e.hasOwnProperty('row')&&(this.options.data.splice(e.index,0,e.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:'updateRow',value:function(e){var t=Array.isArray(e)?e:[e],o=!0,a=!1,i=void 0;try{for(var s,l,r=t[Symbol.iterator]();!(o=(s=r.next()).done);o=!0)(l=s.value,l.hasOwnProperty('index')&&l.hasOwnProperty('row'))&&n.default.extend(this.options.data[l.index],l.row)}catch(e){a=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(a)throw i}}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:'initHiddenRows',value:function(){this.hiddenRows=[]}},{key:'showRow',value:function(e){this.toggleRow(e,!0)}},{key:'hideRow',value:function(e){this.toggleRow(e,!1)}},{key:'toggleRow',value:function(e,t){var o;if(e.hasOwnProperty('index')?o=this.getData()[e.index]:e.hasOwnProperty('uniqueId')&&(o=this.getRowByUniqueId(e.uniqueId)),!!o){var a=this.hiddenRows.indexOf(o);t||-1!==a?t&&-1<a&&this.hiddenRows.splice(a,1):this.hiddenRows.push(o),this.initBody(!0)}}},{key:'getHiddenRows',value:function(e){if(e)return this.initHiddenRows(),void this.initBody(!0);var t=this.getData(),o=[],a=!0,i=!1,n=void 0;try{for(var s,l,r=t[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)l=s.value,this.hiddenRows.includes(l)&&o.push(l)}catch(e){i=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}return this.hiddenRows=o,o}},{key:'mergeCells',value:function(e){var t=e.index,o=this.getVisibleFields().indexOf(e.field),a=e.rowspan||1,n=e.colspan||1,s=void 0,i=void 0,l=this.$body.find('>tr');this.options.detailView&&!this.options.cardView&&(o+=1);var r=l.eq(t).find('>td').eq(o);if(!(0>t||0>o||t>=this.data.length)){for(s=t;s<t+a;s++)for(i=o;i<o+n;i++)l.eq(s).find('>td').eq(i).hide();r.attr('rowspan',a).attr('colspan',n).show()}}},{key:'updateCell',value:function(e){e.hasOwnProperty('index')&&e.hasOwnProperty('field')&&e.hasOwnProperty('value')&&(this.data[e.index][e.field]=e.value,!1===e.reinit||(this.initSort(),this.initBody(!0)))}},{key:'updateCellById',value:function(e){var t=this;if(e.hasOwnProperty('id')&&e.hasOwnProperty('field')&&e.hasOwnProperty('value')){var o=Array.isArray(e)?e:[e];o.forEach(function(e){var o=e.id,a=e.field,i=e.value,n=t.options.data.indexOf(t.getRowByUniqueId(o));-1===n||(t.data[n][a]=i)}),!1===e.reinit||(this.initSort(),this.initBody(!0))}}},{key:'getOptions',value:function(){var e=n.default.extend({},this.options);return delete e.data,n.default.extend(!0,{},e)}},{key:'getSelections',value:function(){var e=this;return this.options.data.filter(function(t){return!0===t[e.header.stateField]})}},{key:'getAllSelections',value:function(){var e=this;return this.options.data.filter(function(t){return t[e.header.stateField]})}},{key:'checkAll',value:function(){this.checkAll_(!0)}},{key:'uncheckAll',value:function(){this.checkAll_(!1)}},{key:'checkInvert',value:function(){var e=this.$selectItem.filter(':enabled'),t=e.filter(':checked');e.each(function(e,t){(0,n.default)(t).prop('checked',!(0,n.default)(t).prop('checked'))}),this.updateRows(),this.updateSelected(),this.trigger('uncheck-some',t),t=this.getSelections(),this.trigger('check-some',t)}},{key:'checkAll_',value:function(e){var t;e||(t=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop('checked',e),this.$selectItem.filter(':enabled').prop('checked',e),this.updateRows(),e&&(t=this.getSelections()),this.trigger(e?'check-all':'uncheck-all',t)}},{key:'check',value:function(e){this.check_(!0,e)}},{key:'uncheck',value:function(e){this.check_(!1,e)}},{key:'check_',value:function(e,t){var o=this.$selectItem.filter('[data-index="'+t+'"]'),a=this.data[t];if(o.is(':radio')||this.options.singleSelect){var i=!0,n=!1,s=void 0;try{for(var l,d,r=this.options.data[Symbol.iterator]();!(i=(l=r.next()).done);i=!0)d=l.value,d[this.header.stateField]=!1}catch(e){n=!0,s=e}finally{try{!i&&r.return&&r.return()}finally{if(n)throw s}}this.$selectItem.filter(':checked').not(o).prop('checked',!1)}a[this.header.stateField]=e,o.prop('checked',e),this.updateSelected(),this.trigger(e?'check':'uncheck',this.data[t],o)}},{key:'checkBy',value:function(e){this.checkBy_(!0,e)}},{key:'uncheckBy',value:function(e){this.checkBy_(!1,e)}},{key:'checkBy_',value:function(e,t){var o=this;if(t.hasOwnProperty('field')&&t.hasOwnProperty('values')){var a=[];this.options.data.forEach(function(n,s){if(!n.hasOwnProperty(t.field))return!1;if(t.values.includes(n[t.field])){var i=o.$selectItem.filter(':enabled').filter(d.sprintf('[data-index="%s"]',s)).prop('checked',e);n[o.header.stateField]=e,a.push(n),o.trigger(e?'check':'uncheck',n,i)}}),this.updateSelected(),this.trigger(e?'check-some':'uncheck-some',a)}}},{key:'destroy',value:function(){this.$el.insertBefore(this.$container),(0,n.default)(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css('margin-top','0').attr('class',this.$el_.attr('class')||'')}},{key:'showLoading',value:function(){this.$tableLoading.show()}},{key:'hideLoading',value:function(){this.$tableLoading.hide()}},{key:'togglePagination',value:function(){this.options.pagination=!this.options.pagination;var e=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?e.attr('class',this.options.iconsPrefix+' '+this.options.icons.paginationSwitchDown):e.attr('class',this.options.iconsPrefix+' '+this.options.icons.paginationSwitchUp),this.updatePagination()}},{key:'toggleFullscreen',value:function(){this.$el.closest('.bootstrap-table').toggleClass('fullscreen')}},{key:'refresh',value:function(e){e&&e.url&&(this.options.url=e.url),e&&e.pageNumber&&(this.options.pageNumber=e.pageNumber),e&&e.pageSize&&(this.options.pageSize=e.pageSize),this.initServer(e&&e.silent,e&&e.query,e&&e.url),this.trigger('refresh',e)}},{key:'resetWidth',value:function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&!this.options.cardView&&this.fitFooter()}},{key:'showColumn',value:function(e){this.toggleColumn(this.fieldsColumnsIndex[e],!0,!0)}},{key:'hideColumn',value:function(e){this.toggleColumn(this.fieldsColumnsIndex[e],!1,!0)}},{key:'getHiddenColumns',value:function(){return this.columns.filter(function(e){var t=e.visible;return!t})}},{key:'getVisibleColumns',value:function(){return this.columns.filter(function(e){var t=e.visible;return t})}},{key:'toggleAllColumns',value:function(e){var t=!0,o=!1,a=void 0;try{for(var i,n,s=this.columns[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)n=i.value,n.visible=e}catch(e){o=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(o)throw a}}if(this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var l=this.$toolbar.find('.keep-open input').prop('disabled',!1);l.filter(':checked').length<=this.options.minimumCountColumns&&l.filter(':checked').prop('disabled',!0)}}},{key:'showAllColumns',value:function(){this.toggleAllColumns(!0)}},{key:'hideAllColumns',value:function(){this.toggleAllColumns(!1)}},{key:'filterBy',value:function(e){this.filterColumns=n.default.isEmptyObject(e)?{}:e,this.options.pageNumber=1,this.initSearch(),this.updatePagination()}},{key:'scrollTo',value:function(e){if('undefined'==typeof e)return this.$tableBody.scrollTop();var t=0;'string'==typeof e&&'bottom'===e&&(t=this.$tableBody[0].scrollHeight),this.$tableBody.scrollTop(t)}},{key:'getScrollPosition',value:function(){return this.scrollTo()}},{key:'selectPage',value:function(e){0<e&&e<=this.options.totalPages&&(this.options.pageNumber=e,this.updatePagination())}},{key:'prevPage',value:function(){1<this.options.pageNumber&&(this.options.pageNumber--,this.updatePagination())}},{key:'nextPage',value:function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())}},{key:'toggleView',value:function(){this.options.cardView=!this.options.cardView,this.initHeader();var e=this.$toolbar.find('button[name="toggle"] i');this.options.cardView?(e.removeClass(this.options.icons.toggleOff),e.addClass(this.options.icons.toggleOn)):(e.removeClass(this.options.icons.toggleOn),e.addClass(this.options.icons.toggleOff)),this.initBody(),this.trigger('toggle',this.options.cardView)}},{key:'refreshOptions',value:function(e){d.compareObjects(this.options,e,!0)||(this.options=n.default.extend(this.options,e),this.trigger('refresh-options',this.options),this.destroy(),this.init())}},{key:'resetSearch',value:function(e){var t=this.$toolbar.find('.search input');t.val(e||''),this.onSearch({currentTarget:t})}},{key:'expandRow_',value:function(e,t){var o=this.$body.find(d.sprintf('> tr[data-index="%s"]',t));o.next().is('tr.detail-view')===!e&&o.find('> td > .detail-icon').click()}},{key:'expandRow',value:function(e){this.expandRow_(!0,e)}},{key:'collapseRow',value:function(e){this.expandRow_(!1,e)}},{key:'expandAllRows',value:function(e){var t=this;if(e){var o=this.$body.find(d.sprintf('> tr[data-index="%s"]',0)),a=null,s=!1,l=-1;if(o.next().is('tr.detail-view')?!o.next().next().is('tr.detail-view')&&(o.next().find('.detail-icon').click(),s=!0):(o.find('> td > .detail-icon').click(),s=!0),s)try{l=setInterval(function(){a=t.$body.find('tr.detail-view').last().find('.detail-icon'),0<a.length?a.click():clearInterval(l)},1)}catch(e){clearInterval(l)}}else for(var r=this.$body.children(),p=0;p<r.length;p++)this.expandRow_(!0,(0,n.default)(r[p]).data('index'))}},{key:'collapseAllRows',value:function(e){if(e)this.expandRow_(!1,0);else for(var t=this.$body.children(),o=0;o<t.length;o++)this.expandRow_(!1,(0,n.default)(t[o]).data('index'))}},{key:'updateFormatText',value:function(e,t){this.options[d.sprintf('format%s',e)]&&('string'==typeof t?this.options[d.sprintf('format%s',e)]=function(){return t}:'function'==typeof t&&(this.options[d.sprintf('format%s',e)]=t)),this.initToolbar(),this.initPagination(),this.initBody()}}]),e}();u.DEFAULTS=p,u.LOCALES=c,u.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,class:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:'asc',visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0,escape:!1,showSelectTitle:!1},u.EVENTS={"all.bs.table":'onAll',"click-cell.bs.table":'onClickCell',"dbl-click-cell.bs.table":'onDblClickCell',"click-row.bs.table":'onClickRow',"dbl-click-row.bs.table":'onDblClickRow',"sort.bs.table":'onSort',"check.bs.table":'onCheck',"uncheck.bs.table":'onUncheck',"check-all.bs.table":'onCheckAll',"uncheck-all.bs.table":'onUncheckAll',"check-some.bs.table":'onCheckSome',"uncheck-some.bs.table":'onUncheckSome',"load-success.bs.table":'onLoadSuccess',"load-error.bs.table":'onLoadError',"column-switch.bs.table":'onColumnSwitch',"page-change.bs.table":'onPageChange',"search.bs.table":'onSearch',"toggle.bs.table":'onToggle',"pre-body.bs.table":'onPreBody',"post-body.bs.table":'onPostBody',"post-header.bs.table":'onPostHeader',"expand-row.bs.table":'onExpandRow',"collapse-row.bs.table":'onCollapseRow',"refresh-options.bs.table":'onRefreshOptions',"reset-view.bs.table":'onResetView',"refresh.bs.table":'onRefresh',"scroll-body.bs.table":'onScrollBody'};var f=['getOptions','getSelections','getAllSelections','getData','load','append','prepend','remove','removeAll','insertRow','updateRow','updateCell','updateByUniqueId','removeByUniqueId','getRowByUniqueId','showRow','hideRow','getHiddenRows','mergeCells','refreshColumnTitle','checkAll','uncheckAll','checkInvert','check','uncheck','checkBy','uncheckBy','refresh','resetView','resetWidth','destroy','showLoading','hideLoading','showColumn','hideColumn','getHiddenColumns','getVisibleColumns','showAllColumns','hideAllColumns','filterBy','scrollTo','getScrollPosition','selectPage','prevPage','nextPage','togglePagination','toggleView','refreshOptions','resetSearch','expandRow','collapseRow','expandAllRows','collapseAllRows','updateFormatText','updateCellById'];n.default.BootstrapTable=u,n.default.fn.bootstrapTable=function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];var i;return this.each(function(t,a){var l=(0,n.default)(a).data('bootstrap.table'),r=n.default.extend({},u.DEFAULTS,(0,n.default)(a).data(),'object'===('undefined'==typeof e?'undefined':s(e))&&e);if('string'==typeof e){var d;if(!f.includes(e))throw new Error('Unknown method: '+e);if(!l)return;i=(d=l)[e].apply(d,o),'destroy'===e&&(0,n.default)(a).removeData('bootstrap.table')}l||(0,n.default)(a).data('bootstrap.table',l=new n.default.BootstrapTable(a,r))}),'undefined'==typeof i?this:i},n.default.fn.bootstrapTable.Constructor=u,n.default.fn.bootstrapTable.defaults=u.DEFAULTS,n.default.fn.bootstrapTable.columnDefaults=u.COLUMN_DEFAULTS,n.default.fn.bootstrapTable.locales=u.LOCALES,n.default.fn.bootstrapTable.methods=f,n.default.fn.bootstrapTable.utils=d,(0,n.default)(function(){(0,n.default)('[data-toggle="table"]').bootstrapTable()})});