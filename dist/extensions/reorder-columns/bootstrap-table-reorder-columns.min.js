/**
  * bootstrap-table - An extended Bootstrap table with radio, checkbox, sort, pagination, and other added features. (supports twitter bootstrap v2 and v3).
  *
  * @version v1.13.0
  * @homepage http://bootstrap-table.wenzhixin.net.cn
  * @author wenzhixin <wenzhixin2010@gmail.com> (http://wenzhixin.net.cn/)
  * @license MIT
  */

(function(a,b){if('function'==typeof define&&define.amd)define(['jquery'],b);else if('undefined'!=typeof exports)b(require('jquery'));else{b(a.jquery),a.bootstrapTableReorderColumns={exports:{}}.exports}})(this,function(a){'use strict';var b=function(a){return a&&a.__esModule?a:{default:a}}(a),c=function(){Array.prototype.filter||(Array.prototype.filter=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if('function'!=typeof a)throw new TypeError;for(var d=[],e=2<=arguments.length?arguments[1]:void 0,f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d})};b.default.extend(b.default.fn.bootstrapTable.defaults,{reorderableColumns:!1,maxMovingRows:10,onReorderColumn:function(){return!1},dragaccept:null}),b.default.extend(b.default.fn.bootstrapTable.Constructor.EVENTS,{"reorder-column.bs.table":'onReorderColumn'});var d=b.default.fn.bootstrapTable.Constructor,e=d.prototype.initHeader,f=d.prototype.toggleColumn,g=d.prototype.toggleView,h=d.prototype.resetView;d.prototype.initHeader=function(){e.apply(this,Array.prototype.slice.apply(arguments));this.options.reorderableColumns&&this.makeRowsReorderable()},d.prototype.toggleColumn=function(){f.apply(this,Array.prototype.slice.apply(arguments));this.options.reorderableColumns&&this.makeRowsReorderable()},d.prototype.toggleView=function(){g.apply(this,Array.prototype.slice.apply(arguments));!this.options.reorderableColumns||this.options.cardView||this.makeRowsReorderable()},d.prototype.resetView=function(){h.apply(this,Array.prototype.slice.apply(arguments));this.options.reorderableColumns&&this.makeRowsReorderable()},d.prototype.makeRowsReorderable=function(){var a=this;try{(0,b.default)(this.$el).dragtable('destroy')}catch(a){}(0,b.default)(this.$el).dragtable({maxMovingRows:a.options.maxMovingRows,dragaccept:a.options.dragaccept,clickDelay:200,beforeStop:function(){var d=[],e=[],f=[],g=[],h=-1,j=[];if(a.$header.find('th').each(function(){d.push((0,b.default)(this).data('field')),e.push((0,b.default)(this).data('formatter'))}),d.length<a.columns.length){g=b.default.grep(a.columns,function(a){return!a.visible});for(var k=0;k<g.length;k++)d.push(g[k].field),e.push(g[k].formatter)}for(var k=0;k<this.length;k++)h=a.fieldsColumnsIndex[d[k]],-1!==h&&(a.columns[h].fieldIndex=k,f.push(a.columns[h]),a.columns.splice(h,1));a.columns=a.columns.concat(f),c(),b.default.each(a.columns,function(b,c){var d=!1,e=c.field;a.options.columns[0].filter(function(a){return d||a.field!=e||(j.push(a),d=!0,!1)})}),a.options.columns[0]=j,a.header.fields=d,a.header.formatters=e,a.initHeader(),a.initToolbar(),a.initBody(),a.resetView(),a.trigger('reorder-column',d)}})}});